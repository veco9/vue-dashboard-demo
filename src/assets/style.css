@import "tailwindcss";

/* ========================================
   Dark Mode Configuration
   Use .app-dark class instead of prefers-color-scheme
   ======================================== */
@custom-variant dark (&:where(.app-dark, .app-dark *));

/* ========================================
   Custom Tailwind Theme
   ======================================== */
@theme {
  /* Surface colors - reference PrimeVue's CSS variables */
  --color-surface-0: var(--p-surface-0);
  --color-surface-50: var(--p-surface-50);
  --color-surface-100: var(--p-surface-100);
  --color-surface-200: var(--p-surface-200);
  --color-surface-300: var(--p-surface-300);
  --color-surface-400: var(--p-surface-400);
  --color-surface-500: var(--p-surface-500);
  --color-surface-600: var(--p-surface-600);
  --color-surface-700: var(--p-surface-700);
  --color-surface-800: var(--p-surface-800);
  --color-surface-900: var(--p-surface-900);
  --color-surface-950: var(--p-surface-950);

  /* Primary colors - reference PrimeVue's CSS variables */
  --color-primary-50: var(--p-primary-50);
  --color-primary-100: var(--p-primary-100);
  --color-primary-200: var(--p-primary-200);
  --color-primary-300: var(--p-primary-300);
  --color-primary-400: var(--p-primary-400);
  --color-primary-500: var(--p-primary-500);
  --color-primary-600: var(--p-primary-600);
  --color-primary-700: var(--p-primary-700);
  --color-primary-800: var(--p-primary-800);
  --color-primary-900: var(--p-primary-900);
  --color-primary-950: var(--p-primary-950);
}

/* ========================================
   Component Styles
   ======================================== */
@import "./components/widget.css";
@import "./components/widgetheader.css";
@import "./components/widgetloader.css";
@import "./components/kpicard.css";
@import "./components/draggable.css";
@import "./components/dashboard-view.css";
@import "./components/dashboard-header.css";
@import "./components/dashboard-toolbar.css";
@import "./components/dashboard-palette.css";
@import "./components/sidebar.css";

/* ========================================
   Grid Layout Plus - Required Styles
   ======================================== */

.vue-grid-layout {
  position: relative;
  transition: height 200ms ease;
}

.vue-grid-item {
  transition: all 200ms ease;
  transition-property: left, top, right;
  overflow: visible;
}

.vue-grid-item.no-touch {
  touch-action: none;
}

.vue-grid-item.vue-grid-placeholder {
  background: theme("colors.purple.500");
  opacity: 0.2;
  transition-duration: 100ms;
  z-index: 2;
  user-select: none;
  border-radius: 0.5rem;
}

.vue-grid-item.vue-draggable-dragging {
  transition: none;
  z-index: 3 !important;
}

.vue-grid-item.vue-resizable-resizing {
  transition: none;
  z-index: 3;
}

.vue-grid-item > .vue-resizable-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  bottom: 0;
  right: 0;
  cursor: se-resize;
  background: transparent;
  z-index: 10;
}

.vue-grid-item > .vue-resizable-handle::after {
  content: '';
  position: absolute;
  right: 6px;
  bottom: 6px;
  width: 6px;
  height: 6px;
  border-right: 2px solid #cbd5e1;
  border-bottom: 2px solid #cbd5e1;
}

/* ========================================
   Edit Mode Styles
   ======================================== */

.edit-mode .vue-grid-item > div:first-child {
  border: 2px dashed theme("colors.purple.500");
  box-shadow: none;
}

.edit-mode .vue-grid-item > .vue-resizable-handle::after {
  border-color: theme("colors.purple.500");
}

/* ========================================
   Spinner Animation
   ======================================== */

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 0.8s linear infinite;
}

/* ========================================
   PrimeIcons Base - Only set font-family
   Other properties can be overridden by component classes
   ======================================== */
.pi {
  font-family: 'primeicons' !important;
}

/* ========================================
   PrimeVue Compact Sizing
   Reduces padding on buttons and inputs globally
   ======================================== */
:root {
  /* Button padding - smaller/slimmer */
  --p-button-padding-x: 0.5rem;
  --p-button-padding-y: 0.25rem;
  --p-button-sm-padding-x: 0.25rem;
  --p-button-sm-padding-y: 0.125rem;
  --p-button-lg-padding-x: 1rem;
  --p-button-lg-padding-y: 0.5rem;

  /* Input padding - smaller/slimmer */
  --p-inputtext-padding-x: 0.5rem;
  --p-inputtext-padding-y: 0.375rem;
  --p-inputtext-sm-padding-x: 0.375rem;
  --p-inputtext-sm-padding-y: 0.25rem;

  /* Select/Dropdown padding */
  --p-select-padding-x: 0.5rem;
  --p-select-padding-y: 0.375rem;

  /* Smaller font for inputs */
  --p-inputtext-font-size: 0.875rem;
  --p-button-font-size: 0.875rem;
}

/* ========================================
   Base Styles
   ======================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  color-scheme: light;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--p-surface-50);
  color: var(--p-surface-950);
  line-height: 1.5;
  transition: background-color 0.2s, color 0.2s;
}

/* ========================================
   Dark Mode
   ======================================== */

.app-dark {
  color-scheme: dark;
}

.app-dark body {
  background-color: var(--p-surface-950);
  color: var(--p-surface-50);
}

html {
  height: 100%;
}

body {
  display: flex;
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

#app {
  display: flex;
  flex-direction: row;
  width: 100%;
}

.app-main {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
}

/* ========================================
   Focus Visible
   ======================================== */
:focus-visible {
  outline: 2px solid var(--p-primary-500);
  outline-offset: 2px;
  border-radius: 4px;
}

/* ========================================
   Skip Link
   ======================================== */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  padding: 8px 16px;
  background: var(--p-primary-500);
  color: white;
  z-index: 100;
  transition: top 0.2s;
}

.skip-link:focus {
  top: 0;
}

/* ========================================
   Reduced Motion
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

